2021/03/21 10:05:01 disconnect(0)
2021/03/21 10:05:01 disconnect(1)
2021/03/21 10:05:01 disconnect(2)
2021/03/21 10:05:01 connect(0)
2021/03/21 10:05:01 connect(1)
2021/03/21 10:05:01 connect(2)
Test (2A): initial election ...
2021/03/21 10:05:01 [1] <Candidate> start election at term -1-
2021/03/21 10:05:01 [1] <Candidate> send Request Vote to 2 at term 1
2021/03/21 10:05:01 [1] <Candidate> send Request Vote to 0 at term 1
2021/03/21 10:05:01 [0] <Follower> RequestVote at term 0
2021/03/21 10:05:01 [0] <Follower> RequestVote term -> 1 state->Follower
2021/03/21 10:05:01 [2] <Follower> RequestVote at term 0
2021/03/21 10:05:01 [2] <Follower> RequestVote term -> 1 state->Follower
2021/03/21 10:05:01 [2] <Follower> RequestVote vote for 1 at term 1
2021/03/21 10:05:01 [0] <Follower> RequestVote vote for 1 at term 1
2021/03/21 10:05:01 [1] <Candidate> got vote 2 -> 1 at term 1
2021/03/21 10:05:01 [1] <Candidate> got vote 0 -> 1 at term 1
2021/03/21 10:05:01 [1] <Candidate> finished: 3
2021/03/21 10:05:01 [1] <Candidate> got 3 votes and became Leader at term 1
2021/03/21 10:05:01 [1] <Leader> establish its authority to 2 at term 1
2021/03/21 10:05:01 [1] <Leader> establish its authority to 0 at term 1
  ... Passed --   3.1  3   54    6702    0
2021/03/21 10:05:04 disconnect(0)
2021/03/21 10:05:04 disconnect(1)
2021/03/21 10:05:04 disconnect(2)
2021/03/21 10:05:04 connect(0)
2021/03/21 10:05:04 connect(1)
2021/03/21 10:05:04 connect(2)
Test (2A): election after network failure
 ...
2021/03/21 10:05:04 [2] <Candidate> start election at term -1-
2021/03/21 10:05:04 [2] <Candidate> send Request Vote to 1 at term 1
2021/03/21 10:05:04 [0] <Candidate> start election at term -1-
2021/03/21 10:05:04 [0] <Candidate> send Request Vote to 2 at term 1
2021/03/21 10:05:04 [0] <Candidate> send Request Vote to 1 at term 1
2021/03/21 10:05:04 [2] <Candidate> send Request Vote to 0 at term 1
2021/03/21 10:05:04 [2] <Candidate> RequestVote at term 1
2021/03/21 10:05:04 [2] <Candidate> RequestVote already vote for 2 at term 1
2021/03/21 10:05:04 [1] <Follower> RequestVote at term 0
2021/03/21 10:05:04 [1] <Follower> RequestVote term -> 1 state->Follower
2021/03/21 10:05:04 [1] <Follower> RequestVote vote for 2 at term 1
2021/03/21 10:05:04 [0] <Candidate> didn't get a vote from 2 at term 1
2021/03/21 10:05:04 [0] <Candidate> RequestVote at term 1
2021/03/21 10:05:04 [0] <Candidate> RequestVote already vote for 0 at term 1
2021/03/21 10:05:04 [1] <Follower> RequestVote at term 1
2021/03/21 10:05:04 [1] <Follower> RequestVote already vote for 2 at term 1
2021/03/21 10:05:04 [2] <Candidate> got vote 1 -> 2 at term 1
2021/03/21 10:05:04 [2] <Candidate> finished: 2
2021/03/21 10:05:04 [2] <Candidate> got 2 votes and became Leader at term 1
2021/03/21 10:05:04 [2] <Leader> didn't get a vote from 0 at term 1
2021/03/21 10:05:04 [2] <Leader> establish its authority to 0 at term 1
2021/03/21 10:05:04 [0] <Candidate> didn't get a vote from 1 at term 1
2021/03/21 10:05:04 [0] <Candidate> finished: 3
2021/03/21 10:05:04 [0] <Candidate> lose the election at term 1, state -> Follower
2021/03/21 10:05:04 [2] <Leader> establish its authority to 1 at term 1
2021/03/21 10:05:04 disconnect(2)
2021/03/21 10:05:05 [0] <Candidate> start election at term -2-
2021/03/21 10:05:05 [0] <Candidate> send Request Vote to 2 at term 2
2021/03/21 10:05:05 [0] <Candidate> send Request Vote to 1 at term 2
2021/03/21 10:05:05 [1] <Follower> RequestVote at term 1
2021/03/21 10:05:05 [1] <Follower> RequestVote term -> 2 state->Follower
2021/03/21 10:05:05 [1] <Follower> RequestVote vote for 0 at term 2
2021/03/21 10:05:05 [0] <Candidate> got vote 1 -> 0 at term 2
2021/03/21 10:05:05 [0] <Candidate> finished: 2
2021/03/21 10:05:05 [0] <Candidate> got 2 votes and became Leader at term 2
2021/03/21 10:05:05 [0] <Leader> establish its authority to 2 at term 2
2021/03/21 10:05:05 [0] <Leader> establish its authority to 1 at term 2
2021/03/21 10:05:05 pass: leader disconnects
2021/03/21 10:05:05 connect(2)
2021/03/21 10:05:05 [0] <Leader> AppendEntries from old leader at term 2
2021/03/21 10:05:05 [1] <Follower> AppendEntries from old leader at term 2
2021/03/21 10:05:05 [2] <Leader> callAppendEntries to 0, old leader, term -> 2, state -> Follower
2021/03/21 10:05:05 [2] <Candidate> start election at term -3-
2021/03/21 10:05:05 [2] <Candidate> send Request Vote to 1 at term 3
2021/03/21 10:05:05 [2] <Candidate> send Request Vote to 0 at term 3
2021/03/21 10:05:05 [2] <Candidate> AppendEntries from old leader at term 3
2021/03/21 10:05:05 [0] <Leader> callAppendEntries to 2, old leader, term -> 3, state -> Follower
2021/03/21 10:05:05 [0] <Follower> RequestVote at term 3
2021/03/21 10:05:05 [1] <Follower> RequestVote at term 2
2021/03/21 10:05:05 [1] <Follower> RequestVote term -> 3 state->Follower
2021/03/21 10:05:05 [1] <Follower> RequestVote vote for 2 at term 3
2021/03/21 10:05:05 [0] <Follower> RequestVote vote for 2 at term 3
2021/03/21 10:05:05 [2] <Candidate> got vote 1 -> 2 at term 3
2021/03/21 10:05:05 [2] <Candidate> got vote 0 -> 2 at term 3
2021/03/21 10:05:05 [2] <Candidate> finished: 3
2021/03/21 10:05:05 [2] <Candidate> got 3 votes and became Leader at term 3
2021/03/21 10:05:05 [2] <Leader> establish its authority to 1 at term 3
2021/03/21 10:05:05 [2] <Leader> establish its authority to 0 at term 3
2021/03/21 10:05:05 pass: old leader rejoins
2021/03/21 10:05:05 disconnect(2)
2021/03/21 10:05:05 disconnect(0)
2021/03/21 10:05:06 [0] <Follower> failed to sendRequestVote to 2 at term 2
2021/03/21 10:05:06 [0] <Follower> didn't get a vote from 2 at term 2
2021/03/21 10:05:06 [0] <Candidate> start election at term -4-
2021/03/21 10:05:06 [0] <Candidate> send Request Vote to 2 at term 4
2021/03/21 10:05:06 [0] <Candidate> send Request Vote to 1 at term 4
2021/03/21 10:05:06 [1] <Candidate> start election at term -4-
2021/03/21 10:05:06 [1] <Candidate> send Request Vote to 2 at term 4
2021/03/21 10:05:06 [1] <Candidate> send Request Vote to 0 at term 4
2021/03/21 10:05:06 [1] <Candidate> failed to sendRequestVote to 0 at term 4
2021/03/21 10:05:06 [1] <Candidate> didn't get a vote from 0 at term 4
2021/03/21 10:05:07 pass: no quorum
2021/03/21 10:05:07 connect(0)
2021/03/21 10:05:08 [0] <Candidate> failed to sendRequestVote to 2 at term 4
2021/03/21 10:05:08 [0] <Candidate> didn't get a vote from 2 at term 4
2021/03/21 10:05:09 [0] <Candidate> failed to establish its authority to 2 at term 2
2021/03/21 10:05:11 [0] <Candidate> failed to sendRequestVote to 1 at term 4
2021/03/21 10:05:11 [0] <Candidate> didn't get a vote from 1 at term 4
2021/03/21 10:05:11 [0] <Candidate> finished: 3
2021/03/21 10:05:11 [0] <Candidate> lose the election at term 4, state -> Follower
2021/03/21 10:05:11 [0] <Candidate> start election at term -5-
2021/03/21 10:05:11 [0] <Candidate> send Request Vote to 2 at term 5
2021/03/21 10:05:11 [0] <Candidate> send Request Vote to 1 at term 5
2021/03/21 10:05:11 [1] <Candidate> RequestVote at term 4
2021/03/21 10:05:11 [1] <Candidate> RequestVote term -> 5 state->Follower
2021/03/21 10:05:11 [1] <Follower> RequestVote vote for 0 at term 5
2021/03/21 10:05:11 [0] <Candidate> got vote 1 -> 0 at term 5
2021/03/21 10:05:11 [0] <Candidate> finished: 2
2021/03/21 10:05:11 [0] <Candidate> got 2 votes and became Leader at term 5
2021/03/21 10:05:11 [0] <Leader> establish its authority to 2 at term 5
2021/03/21 10:05:11 [0] <Leader> establish its authority to 1 at term 5
2021/03/21 10:05:11 pass:  a quorum arises
2021/03/21 10:05:11 connect(2)
2021/03/21 10:05:11 [1] <Follower> AppendEntries from old leader at term 5
2021/03/21 10:05:11 [0] <Leader> AppendEntries from old leader at term 5
2021/03/21 10:05:11 [2] <Leader> callAppendEntries to 1, old leader, term -> 5, state -> Follower
2021/03/21 10:05:11 [2] <Candidate> start election at term -6-
2021/03/21 10:05:11 [2] <Candidate> send Request Vote to 1 at term 6
2021/03/21 10:05:11 [2] <Candidate> send Request Vote to 0 at term 6
2021/03/21 10:05:11 [1] <Follower> RequestVote at term 5
2021/03/21 10:05:11 [1] <Follower> RequestVote term -> 6 state->Follower
2021/03/21 10:05:11 [1] <Follower> RequestVote vote for 2 at term 6
2021/03/21 10:05:11 [0] <Leader> RequestVote at term 5
2021/03/21 10:05:11 [0] <Leader> RequestVote term -> 6 state->Follower
2021/03/21 10:05:11 [0] <Follower> RequestVote vote for 2 at term 6
2021/03/21 10:05:11 [2] <Candidate> got vote 1 -> 2 at term 6
2021/03/21 10:05:11 [2] <Candidate> finished: 2
2021/03/21 10:05:11 [2] <Candidate> got 2 votes and became Leader at term 6
2021/03/21 10:05:11 [2] <Leader> got vote 0 -> 2 at term 6
2021/03/21 10:05:11 [2] <Leader> establish its authority to 0 at term 6
2021/03/21 10:05:11 [2] <Leader> establish its authority to 1 at term 6
2021/03/21 10:05:12 [0] <Follower> failed to sendRequestVote to 2 at term 5
2021/03/21 10:05:12 [0] <Follower> didn't get a vote from 2 at term 5
  ... Passed --   8.0  3  176   13740    0
PASS
ok  	_/Users/cage/workspace/My6.824/src/raft	11.202s
